# InfinityCN Environment Variables
# Copy this file to .env and fill in your values

# ─── Frontend (Vite) ────────────────────────────────────────────

# Backend proxy URL (set to enable server-side API key management)
# When set, AI requests route through the proxy instead of direct browser API calls
# VITE_API_PROXY_URL=http://localhost:3001

# ─── Backend Server (server/src/index.ts) ─────────────────────

# Server port
PORT=3001

# Allowed CORS origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:4173

# AI Provider API Keys (set the ones you plan to use)
# Keys configured here are used by the server; clients don't need to provide keys
# GEMINI_API_KEY=your-gemini-api-key
# OPENAI_API_KEY=your-openai-api-key
# ANTHROPIC_API_KEY=your-anthropic-api-key
# GROQ_API_KEY=your-groq-api-key
# DEEPSEEK_API_KEY=your-deepseek-api-key

# Local Ollama server URL (if using Ollama)
OLLAMA_URL=http://localhost:11434

# ─── Redis ────────────────────────────────────────────────────

# Redis connection URL
REDIS_URL=redis://localhost:6379

# Key prefix for all Redis keys
# REDIS_KEY_PREFIX=icn:

# AI response cache TTL in seconds (default: 30 minutes)
# CACHE_TTL_SECONDS=1800

# ─── RabbitMQ ─────────────────────────────────────────────────

# RabbitMQ credentials (used by docker-compose and RABBITMQ_URL)
RABBITMQ_USER=infinitycn
RABBITMQ_PASS=infinitycn_dev

# RabbitMQ connection URL
RABBITMQ_URL=amqp://infinitycn:infinitycn_dev@localhost:5672

# Number of concurrent chapters a worker processes (default: 1)
# WORKER_CONCURRENCY=1

# ─── Rate Limiting ───────────────────────────────────────────

# Rate limit window in milliseconds (default: 60000 = 1 minute)
# RATE_WINDOW_MS=60000

# Max requests per window per IP (default: 30)
# RATE_MAX_REQUESTS=30

# ─── Safety ──────────────────────────────────────────────────

# Max output tokens cap to prevent cost abuse (default: 2048)
# MAX_TOKENS_CAP=2048
